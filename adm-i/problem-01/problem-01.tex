\documentclass[12pt,letterpaper]{article}
\usepackage{amsmath,amsthm,amsfonts,amssymb,amscd}
\usepackage{enumerate}


\begin{document}

\subsection*{Lemma}
Let $f: [a,b] \to \mathbb{R}$ be convex. Let $a \leq x < y < z \leq b$. Then, it holds
\begin{align*}
    \frac{f(y)-f(x)}{y-x} \leq \frac{f(z)-f(x)}{z-x} \leq \frac{f(z)-f(y)}{z-y}.
\end{align*}
\begin{proof}
    Let $x < y < z$. It holds
    \begin{align*}
        y = \frac{y - z}{x - z}x + \left(1 - \frac{y - z}{x - z}\right)z \quad \text{and} \quad 0 < \frac{y - z}{x - z} < 1.
    \end{align*}
    With convexity of $f$ it follows
    \begin{align*}
        f\left(\frac{y - z}{x - z}x + (1 - \frac{y - z}{x - z})z \right) = f(y) 
        &\leq \frac{y - z}{x - z} f(x) + (1 - \frac{y - z}{x - z})f(z) \\
        &\Downarrow \\
        (x-z)(f(y)-f(z)) & \leq (y-z)(f(x) - f(z)) \\
        &\Downarrow \\
        \frac{f(z)-f(x)}{z-x} &\leq \frac{f(z)-f(y)}{z-y}.
    \end{align*} 
    Similarly, we see that 
    \[
        y = \frac{y-x}{z - x}z + \left(1 - \frac{y - x}{z - x}\right)x \quad \text{and} \quad 0 < \frac{y - x}{z - x} < 1.
    \] 
    So,
    \begin{align*}
        f\left(\frac{y - x}{z - x}z + (1 - \frac{y - x}{z - x})x \right) = f(y) 
        &\leq \frac{y - x}{z - x} f(z) + (1 - \frac{y - x}{z - x})f(x) \\
        &\Downarrow \\
        (z-x)(f(y)-f(x)) & \leq (y-x)(f(z) - f(x)) \\
        &\Downarrow \\
        \frac{f(y)-f(x)}{y-x} &\leq \frac{f(z)-f(x)}{z-x}.
    \end{align*} 

    Combining these two results, we obtain our final result
    \[
        \frac{f(y)-f(x)}{y-x} \leq \frac{f(z)-f(x)}{z-x} \leq \frac{f(z)-f(y)}{z-y}.
    \]
\end{proof}

\subsection*{Proof}
Now, we want to prove that every convex function $f: (a,b) \to \mathbb R$ is continuous. Especially, it follows that $f: \mathbb R \to \mathbb{R}$ is continuous.

\begin{proof}
    Let $[\alpha,\beta] \subset (a,b)$. Our aim is to prove that $f$ is continuous for all $x \in [\alpha,\beta]$. Let $a_0,b_0 \in \mathbb{R}$ such that $\beta < b_0 < b$ and $a < a_0 < \alpha$.

    Applying the lemma above on $f$ yields 
    \[
        \frac{f(x)-f(a_0)}{x-a_0} \leq \frac{f(y)-f(x)}{y-x} \leq \frac{f(b_0)-f(y)}{b_0-y} \quad \forall x,y \in [\alpha,\beta], y > x.
    \]
    This implies that there exists a real value $M > 0$ such that
    \[
        |f(y) - f(x)| \leq M |y-x| \quad \forall x,y \in [\alpha, \beta].
    \]
    Thus, $f$ is Lipschitz continuous on $[\alpha, \beta]$, and therefore also continuous on $[\alpha, \beta]$. Since $[\alpha, \beta]$ was arbitrary and $(a,b)$ can be written as the union of closed intervals,it follows that $f$ is continuous on $(a,b)$.
\end{proof}

\subsection*{Counter example}
We would like to find a function $f: [a,b] \to \mathbb{R}$ that is convex but not continuous. 

Consider $f: [0,1] \to \mathbb R$ defined as 
\[
    f(x) = 
    \begin{cases}
        1 \quad &x = 0, \\
        0 &{x > 0}
    \end{cases}.
\]
This function is not continuous (that is clear), but it is convex, which is shown below.
\begin{itemize}
    \item Let $x = 0$ and $y > 0$. Let $z = \alpha x + (1 - \alpha) y$ for $0 \leq \alpha \leq 1$. If $\alpha = 1$, then $f(z) = 1 \leq 1 = f(x) + (1 - 1)f(y) $.  If $\alpha < 1$, then $f(z) = 0 < \alpha = \alpha f(x) + (1 - \alpha) f(y)$.

    \item Let $0 < x < y$. Then, $f(z) = 0 \leq 0 = \alpha f(x) + (1-\alpha)f(y)$.
\end{itemize}
We have shown that $f$ is not convex.

\end{document}