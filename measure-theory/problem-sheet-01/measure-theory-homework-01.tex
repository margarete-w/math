\documentclass[a4paper]{article}

\usepackage{fontspec}
\usepackage{fontspec}
\setmainfont[Ligatures=TeX]{Georgia}
\setsansfont[BoldFont="HelveticaNeue-Bold"]{Helvetica Neue}

\usepackage{amsmath, amsthm, amssymb}
\usepackage{mathtools}
\usepackage[many]{tcolorbox}
\usepackage{blindtext}
\usepackage{xcolor}
\usepackage{titlesec}
\usepackage{titling}
\usepackage{enumitem}   


\definecolor{grey}{rgb}{0.5,0.5,0.5}
\definecolor{lightgrey}{rgb}{0.9,0.9,0.9}
\definecolor{darkgrey}{rgb}{0.3,0.3,0.3}
\definecolor{orange}{rgb}{0.94, 0.55, 0.294}
\definecolor{pink}{rgb}{0.94, 0.29, 0.7}
\definecolor{yellow}{rgb}{1, 0.749, 0}

\newcommand{\chapfnt}{\fontsize{16}{19}}
\newcommand{\secfnt}{\fontsize{18}{17}}
\newcommand{\ssecfnt}{\fontsize{14}{14}}
\renewcommand{\hline}{\noindent\makebox[\linewidth]{\rule{12cm}{1pt}}}
\newcommand{\vip}[1]{\textit{\textbf{#1}}}

\titleformat{\chapter}[display]
{\normalfont\chapfnt\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\chapfnt}

\titleformat{\section}
{\normalfont\sffamily\secfnt\mdseries}{\thesection}{1em}{}

\titleformat{\subsection}
{\normalfont\sffamily\ssecfnt\mdseries\color{grey}}{\thesubsection}{1em}{}

\titlespacing*{\chapter} {0pt}{50pt}{40pt}
\titlespacing*{\section} {0pt}{0pt}{16pt}
\titlespacing*{\subsection} {0pt}{12pt}{8pt}


%\usepackage{geometry}
%\setlength{\columnsep}{32mm}
%\geometry{
% left=22mm,
% right=22mm,
% bottom=32mm,
% top = 20mm
%}


\newtcbtheorem[auto counter,number within=section]{theorem}%
  {Theorem}{
  		fonttitle=\upshape, 
  		fontupper=\upshape,
  		boxrule=0pt,
  		leftrule=3pt,
  		arc=0pt,auto outer arc,
  		colback=white,
  		colframe=pink,
  		colbacktitle=white,
  		coltitle=pink,
  		oversize,
  		enlarge top by=1mm,
  		enlarge bottom by=1mm,
    	enhanced jigsaw,
    	interior hidden, 
    	before skip=12pt,
    	overlay={
    		\draw[line width=1.5pt,pink] (frame.north west) -- (frame.south west);
  		}, 
  		frame hidden}{theorem}
  		
\newtcbtheorem[]{issue}%
  {To prove}{
        theorem name,
  		fonttitle=\upshape, 
  		fontupper=\upshape,
  		boxrule=0pt,
  		leftrule=3pt,
  		arc=0pt,auto outer arc,
  		colback=white,
  		colframe=pink,
  		colbacktitle=white,
  		coltitle=pink,
  		oversize,
  		enlarge top by=1mm,
  		enlarge bottom by=1mm,
    	enhanced jigsaw,
    	interior hidden, 
    	before skip=12pt,
    	after skip=0pt,
    	overlay={
    		\draw[line width=1.5pt,pink] (frame.north west) -- (frame.south west);
  		}, 
  		frame hidden}{issue}

\newtcbtheorem[auto counter,number within=section]{lemma}%
  {Lemma}{
  		fonttitle=\upshape, 
  		fontupper=\upshape,
  		boxrule=1pt,
  		toprule=0pt,
  		leftrule=3pt,
  		arc=0pt,auto outer arc,
  		colback=white,
  		colframe=yellow,
  		colbacktitle=white,
  		coltitle=yellow,
  		oversize,
  		enlarge top by=1mm,
  		enlarge bottom by=1mm,
    	enhanced jigsaw,
    	interior hidden, 
    	before skip=12pt,
    	after skip=0pt,
    	overlay={
    		\draw[line width=1.5pt,yellow] (frame.north west) -- (frame.south west);
  		}, 
  		frame hidden}{lemma}
  		
 \newtcbtheorem[auto counter,number within=section]{definition}%
  {Definition}{
  		fonttitle=\upshape, 
  		fontupper=\upshape,
  		boxrule=1pt,
  		toprule=0pt,
  		leftrule=3pt,
  		arc=0pt,auto outer arc,
  		colback=white,
  		colframe=orange,
  		colbacktitle=white,
  		coltitle=orange,
  		oversize,
  		enlarge top by=1mm,
  		enlarge bottom by=1mm,
    	enhanced jigsaw,
    	interior hidden, 
    	before skip=12pt,
    	overlay={
    		\draw[line width=1.5pt,orange] (frame.north west) -- (frame.south west);
  		}, 
  		frame hidden}{definition}
    	
\newtcbtheorem[auto counter,number within=section]{example}%
  {Beispiel}{
  		fonttitle=\upshape, 
  		fontupper=\upshape,
  		boxrule=0pt,
  		leftrule=3pt,
  		arc=0pt,auto outer arc,
  		colback=white,
  		colframe=grey,
  		colbacktitle=white,
  		coltitle=grey,
  		oversize,
  		enlarge top by=1mm,
  		enlarge bottom by=1mm,
    	enhanced jigsaw,
    	interior hidden, 
    	before skip=12pt,
    	overlay={
    		\draw[line width=1.5pt,grey] (frame.north west) -- (frame.south west);
  		}, 
  		frame hidden}{example}
    	
\newtcbtheorem[auto counter,number within=section]{note}%
  {Notiz}{
  		fonttitle=\upshape, 
  		fontupper=\upshape,
  		boxrule=0pt,
  		leftrule=3pt,
  		arc=0pt,auto outer arc,
  		colback=white,
  		colframe=yellow,
  		colbacktitle=white,
  		coltitle=yellow,
  		oversize,
  		enlarge top by=1mm,
  		enlarge bottom by=1mm,
    	enhanced jigsaw,
    	interior hidden, 
    	before skip=12pt,
    	overlay={
    		\draw[line width=1.5pt,yellow] (frame.north west) -- (frame.south west);
  		}, 
  		frame hidden}{note}
  		
\newtcbtheorem[]{important}%
  {Wichtig}{
  		fonttitle=\upshape, 
  		fontupper=\upshape,
  		boxrule=0pt,
  		leftrule=3pt,
  		arc=0pt,auto outer arc,
  		colback=white,
  		colframe=pink,
  		colbacktitle=white,
  		coltitle=pink,
  		oversize,
  		enlarge top by=1mm,
  		enlarge bottom by=1mm,
    	enhanced jigsaw,
    	interior hidden, 
    	before skip=12pt,
    	overlay={
    		\draw[line width=1.5pt,pink] (frame.north west) -- (frame.south west);
  		}, 
  		frame hidden}{important}
    	
\renewcommand{\baselinestretch}{1.4} 
\makeatletter
\let\old@rule\@rule
\def\@rule[#1]#2#3{\textcolor{lightgrey}{\old@rule[#1]{#2}{#3}}}
\makeatother

\begin{document}

\section*{Problem Sheet 01}
\textit{Viet Duc Nguyen (564743)}


\hline 

\subsection*{Exercise 1}

Given a chart $\varphi: U \to V$ and $\tilde \varphi: \tilde U \to V$. Let $\tau: \varphi^{-1} \circ \tilde \varphi$ be the coordinate transformation between the charts. We want to show that
\[
	\det \tilde g(y) = |\det D(\tau(y)) |^2 \det g(\tau(y))
\]
where $g, \tilde g$ denotes the Gramian matrix of $\varphi, \tilde \varphi$ respectively.

\begin{proof}
\begin{align*}
	\det \tilde g(y) = \det (D\tilde \varphi(y)^T D\varphi(y)) = \det ( D( \varphi \circ \tau)(y) )^2 &= \det(D \varphi(\tau(y)) D\tau(y))^2 \\
	&= \det g(\tau (y)) |\det D\tau(y)|^2
\end{align*}
\end{proof}

Next we want to show that the integral over a manifold is independent of the chart $\varphi$. Define:
\[
	I(f) = \int_U f(\varphi(x)) \sqrt{\det g(x)} dx.
\]

\begin{proof}
\begin{align*}
	I(f) = \int_{\tilde U}f(\tilde \varphi (x)) \sqrt{\det \tilde g(x)} dx &= \int_{\tilde U} f(\varphi(\tau(x))) \sqrt{\det D(\tau(x))^2 \det g(\tau(x))} dx \\
	&= \int_U f(\varphi(y)) \sqrt{\det g(y)} dy.
\end{align*}
\end{proof}


\end{document}